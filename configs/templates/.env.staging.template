# PAKE System - Staging Environment Configuration
# Mirrors production but with reduced resources and staging endpoints

# Environment
NODE_ENV=staging
LOG_LEVEL=debug
PORT=${PORT:-3000}

# Vault Configuration
VAULT_ADDR=${VAULT_ADDR:-http://vault-staging:8200}
VAULT_TOKEN=${VAULT_TOKEN}
VAULT_SECRET_PATH=kv/pake-system-staging

# Security (Relaxed for testing)
SECURITY_HEADERS_ENABLED=true
CORS_ORIGIN=*
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=200

# Database (Retrieved from Vault)
DATABASE_HOST=${DATABASE_HOST}
DATABASE_PORT=${DATABASE_PORT:-5432}
DATABASE_NAME=${DATABASE_NAME}_staging
DATABASE_USER=${DATABASE_USER}
DATABASE_PASSWORD=${DATABASE_PASSWORD}
DATABASE_SSL=false
DATABASE_POOL_SIZE=10

# Redis (Retrieved from Vault)
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=1
REDIS_TTL=3600

# JWT Configuration (Retrieved from Vault)
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRATION=60m
JWT_ALGORITHM=HS256

# Service Ports
VOICE_AGENTS_PORT=9000
VIDEO_GENERATION_PORT=9001
SOCIAL_MEDIA_PORT=9002

# External API Keys (Staging/Testing keys from Vault)
VAPI_API_KEY=${VAPI_API_KEY_STAGING}
VAPI_WEBHOOK_SECRET=${VAPI_WEBHOOK_SECRET}
DID_API_KEY=${DID_API_KEY_STAGING}
HEYGEN_API_KEY=${HEYGEN_API_KEY_STAGING}
TWITTER_BEARER_TOKEN=${TWITTER_BEARER_TOKEN_STAGING}
TWITTER_API_KEY=${TWITTER_API_KEY_STAGING}
TWITTER_API_SECRET=${TWITTER_API_SECRET_STAGING}
OPENAI_API_KEY=${OPENAI_API_KEY_STAGING}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY_STAGING}

# Frontend
NEXT_PUBLIC_API_BASE_URL=https://staging-api.pake-system.com
NEXT_PUBLIC_VAULT_HEALTH_CHECK=${VAULT_ADDR}/v1/sys/health

# Monitoring and Observability
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
JAEGER_ENDPOINT=${JAEGER_ENDPOINT:-http://jaeger-staging:14268/api/traces}

# Testing Features
ENABLE_LOAD_TESTING=true
ENABLE_CHAOS_ENGINEERING=true
MOCK_PAYMENT_APIS=true
ENABLE_PERFORMANCE_PROFILING=true

# Staging-specific
STAGING_RESET_SCHEDULE=${STAGING_RESET_SCHEDULE:-0 6 * * 1}
STAGING_DATA_ANONYMIZATION=true