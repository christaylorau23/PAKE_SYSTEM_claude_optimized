<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PAKE - Content Curation Dashboard</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          sans-serif;
        background: linear-gradient(
          135deg,
          #1a1c29 0%,
          #2d1b69 50%,
          #ff6b35 100%
        );
        min-height: 100vh;
        color: #fff;
        overflow-x: hidden;
      }

      .app-container {
        display: flex;
        min-height: 100vh;
      }

      /* Sidebar */
      .sidebar {
        width: 280px;
        background: rgba(26, 28, 41, 0.95);
        backdrop-filter: blur(20px);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px 0;
        position: fixed;
        height: 100vh;
        left: 0;
        top: 0;
        z-index: 100;
      }

      .logo {
        padding: 0 30px 40px;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 20px;
      }

      .logo-text {
        font-size: 24px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .nav-section {
        margin-bottom: 40px;
      }

      .nav-title {
        color: #6b7280;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        padding: 0 30px 15px;
      }

      .nav-item {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px 30px;
        color: #9ca3af;
        text-decoration: none;
        transition: all 0.3s ease;
        border-right: 3px solid transparent;
        position: relative;
        cursor: pointer;
      }

      .nav-item:hover,
      .nav-item.active {
        background: rgba(102, 126, 234, 0.1);
        color: #667eea;
        border-right-color: #667eea;
      }

      .nav-item i {
        width: 20px;
        text-align: center;
        font-size: 18px;
      }

      .nav-item .badge {
        background: #ef4444;
        color: white;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 10px;
        margin-left: auto;
      }

      /* Main Content */
      .main-content {
        flex: 1;
        margin-left: 280px;
        margin-right: 350px;
        padding: 30px;
      }

      /* Header */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
      }

      .search-container {
        flex: 1;
        max-width: 500px;
        position: relative;
      }

      .search-input {
        width: 100%;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        padding: 15px 20px 15px 50px;
        color: white;
        font-size: 16px;
        backdrop-filter: blur(10px);
      }

      .search-input::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .search-icon {
        position: absolute;
        left: 18px;
        top: 50%;
        transform: translateY(-50%);
        color: rgba(255, 255, 255, 0.6);
      }

      .user-profile {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .user-avatar {
        width: 45px;
        height: 45px;
        border-radius: 12px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
      }

      .user-info h4 {
        color: white;
        font-size: 16px;
        margin-bottom: 2px;
      }

      .user-info p {
        color: #9ca3af;
        font-size: 14px;
      }

      /* Welcome Section */
      .welcome-section {
        display: flex;
        align-items: center;
        gap: 30px;
        margin-bottom: 40px;
      }

      .welcome-text h1 {
        font-size: 32px;
        margin-bottom: 8px;
        color: white;
      }

      .welcome-text p {
        color: #9ca3af;
        font-size: 16px;
      }

      .greeting-icon {
        font-size: 24px;
      }

      /* Metrics Grid */
      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
      }

      .metric-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 25px;
        position: relative;
        overflow: hidden;
      }

      .metric-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #667eea, #764ba2);
      }

      .metric-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .metric-title {
        color: #9ca3af;
        font-size: 14px;
        font-weight: 500;
      }

      .metric-trend {
        font-size: 14px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .trend-up {
        color: #10b981;
      }

      .trend-down {
        color: #ef4444;
      }

      .metric-value {
        font-size: 36px;
        font-weight: 700;
        color: white;
        margin-bottom: 5px;
      }

      .metric-subtitle {
        color: #6b7280;
        font-size: 14px;
      }

      /* Content List */
      .content-panel {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
      }

      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .panel-title {
        font-size: 20px;
        font-weight: 600;
        color: white;
      }

      .panel-subtitle {
        color: #9ca3af;
        font-size: 14px;
        margin-top: 5px;
      }

      .content-item {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 15px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .content-item:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(102, 126, 234, 0.3);
        transform: translateY(-2px);
      }

      .content-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 10px;
      }

      .content-title {
        color: white;
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 5px;
      }

      .content-meta {
        color: #9ca3af;
        font-size: 13px;
      }

      .status-badge {
        padding: 6px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
        text-transform: capitalize;
      }

      .status-low {
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
        border: 1px solid rgba(34, 197, 94, 0.3);
      }

      .status-medium {
        background: rgba(251, 191, 36, 0.2);
        color: #fbbf24;
        border: 1px solid rgba(251, 191, 36, 0.3);
      }

      .status-high {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
        border: 1px solid rgba(239, 68, 68, 0.3);
      }

      /* Right Sidebar */
      .right-sidebar {
        width: 350px;
        position: fixed;
        right: 0;
        top: 0;
        height: 100vh;
        background: rgba(26, 28, 41, 0.95);
        backdrop-filter: blur(20px);
        border-left: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px 25px;
        overflow-y: auto;
      }

      .sidebar-section {
        margin-bottom: 35px;
      }

      .sidebar-title {
        color: white;
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .calendar {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 25px;
      }

      .calendar-header {
        text-align: center;
        margin-bottom: 20px;
        color: white;
        font-weight: 600;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        margin-bottom: 15px;
      }

      .calendar-day-header {
        text-align: center;
        color: #9ca3af;
        font-size: 12px;
        font-weight: 600;
        padding: 8px 0;
      }

      .calendar-day {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        font-size: 14px;
        color: #9ca3af;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .calendar-day:hover {
        background: rgba(102, 126, 234, 0.2);
        color: white;
      }

      .calendar-day.today {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
      }

      .calendar-day.has-event {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
      }

      .task-list {
        list-style: none;
      }

      .task-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        margin-bottom: 10px;
        transition: all 0.3s ease;
      }

      .task-item:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .task-priority {
        width: 8px;
        height: 8px;
        border-radius: 50%;
      }

      .priority-high {
        background: #ef4444;
      }

      .priority-medium {
        background: #fbbf24;
      }

      .priority-low {
        background: #22c55e;
      }

      .task-text {
        flex: 1;
        color: white;
        font-size: 14px;
      }

      .task-time {
        color: #9ca3af;
        font-size: 12px;
      }

      /* Form Elements */
      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: white;
      }

      .form-control {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        backdrop-filter: blur(10px);
      }

      .form-control::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .form-control:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
      }

      .btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: capitalize;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* Tabs */
      .tabs {
        display: flex;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 5px;
        margin-bottom: 20px;
      }

      .tab {
        flex: 1;
        text-align: center;
        padding: 12px 20px;
        background: transparent;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        color: #9ca3af;
      }

      .tab.active {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .result-item {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        transition: all 0.3s ease;
      }

      .result-item:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(102, 126, 234, 0.3);
      }

      .result-title {
        font-weight: 600;
        color: white;
        margin-bottom: 8px;
        font-size: 1.1rem;
      }

      .result-meta {
        color: #9ca3af;
        font-size: 0.9rem;
        margin-bottom: 10px;
      }

      .result-score {
        display: inline-block;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #9ca3af;
      }

      .loading::after {
        content: '';
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        border-top-color: #667eea;
        animation: spin 1s ease-in-out infinite;
        margin-left: 10px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .error {
        color: #f87171;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.2);
        border-radius: 12px;
        padding: 16px;
        margin: 16px 0;
      }

      .success {
        color: #34d399;
        background: rgba(16, 185, 129, 0.1);
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: 12px;
        padding: 16px;
        margin: 16px 0;
      }

      /* Responsive */
      @media (max-width: 1400px) {
        .right-sidebar {
          display: none;
        }
        .main-content {
          margin-right: 0;
        }
      }

      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-100%);
          transition: transform 0.3s ease;
        }
        .sidebar.open {
          transform: translateX(0);
        }
        .main-content {
          margin-left: 0;
          padding: 20px 15px;
        }
        .metrics-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <!-- Left Sidebar -->
      <div class="sidebar">
        <div class="logo">
          <div class="logo-icon">
            <i class="fas fa-brain"></i>
          </div>
          <div class="logo-text">PAKE</div>
        </div>

        <div class="nav-section">
          <div class="nav-title">Main</div>
          <div class="nav-item active" onclick="showTab('dashboard')">
            <i class="fas fa-th-large"></i>
            <span>Dashboard</span>
          </div>
          <div class="nav-item" onclick="showTab('activity')">
            <i class="fas fa-chart-line"></i>
            <span>Activity</span>
          </div>
          <div class="nav-item" onclick="showTab('analytics')">
            <i class="fas fa-chart-pie"></i>
            <span>Analytics</span>
          </div>
          <div class="nav-item" onclick="showTab('performance')">
            <i class="fas fa-tachometer-alt"></i>
            <span>Performance Class</span>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-title">Content</div>
          <div class="nav-item" onclick="showTab('recommendations')">
            <i class="fas fa-star"></i>
            <span>Recommendations</span>
            <span class="badge">2</span>
          </div>
          <div class="nav-item" onclick="showTab('libraries')">
            <i class="fas fa-book"></i>
            <span>Libraries</span>
          </div>
          <div class="nav-item" onclick="showTab('saved')">
            <i class="fas fa-bookmark"></i>
            <span>Saved</span>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Header -->
        <div class="header">
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Search..." />
          </div>
          <div class="user-profile">
            <div class="user-info">
              <h4>Peter Parker</h4>
              <p>Data Scientist</p>
            </div>
            <div class="user-avatar">PP</div>
          </div>
        </div>

        <!-- Welcome Section -->
        <div class="welcome-section">
          <div class="welcome-text">
            <h1>Hello Peter <span class="greeting-icon">👋</span></h1>
            <p>You're doing amazing</p>
          </div>
        </div>

        <!-- Metrics Grid -->
        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-header">
              <div class="metric-title">Trending Algorithms</div>
              <div class="metric-trend trend-up">
                <i class="fas fa-arrow-up"></i>
                +14.56%
              </div>
            </div>
            <div class="metric-value">104</div>
            <div class="metric-subtitle">papers last month</div>
          </div>

          <div class="metric-card">
            <div class="metric-header">
              <div class="metric-title">New Topics</div>
              <div class="metric-trend trend-down">
                <i class="fas fa-arrow-down"></i>
                -9.67%
              </div>
            </div>
            <div class="metric-value">34</div>
            <div class="metric-subtitle">trends last month</div>
          </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
          <button class="tab active" onclick="switchMainTab('cases')">
            Content Cases
          </button>
          <button class="tab" onclick="switchMainTab('recommendations')">
            Recommendations
          </button>
          <button class="tab" onclick="switchMainTab('feedback')">
            Feedback
          </button>
          <button class="tab" onclick="switchMainTab('analytics')">
            Analytics
          </button>
        </div>

        <!-- Tab Content -->
        <div id="cases-content" class="tab-content active">
          <div class="content-panel">
            <div class="panel-header">
              <div>
                <div class="panel-title">List of Cases to be Accepted</div>
                <div class="panel-subtitle">Full list</div>
              </div>
              <button class="btn btn-secondary">See all</button>
            </div>

            <div class="content-item">
              <div class="content-header">
                <div>
                  <div class="content-title">
                    Machine Learning Advances in Healthcare
                  </div>
                  <div class="content-meta">May 16 2024 • May 25 2024</div>
                </div>
                <div class="status-badge status-low">Low</div>
              </div>
            </div>

            <div class="content-item">
              <div class="content-header">
                <div>
                  <div class="content-title">Deep Learning Neural Networks</div>
                  <div class="content-meta">May 16 2024 • May 25 2024</div>
                </div>
                <div class="status-badge status-medium">Medium</div>
              </div>
            </div>

            <div class="content-item">
              <div class="content-header">
                <div>
                  <div class="content-title">AI Ethics and Governance</div>
                  <div class="content-meta">Processing</div>
                </div>
                <div class="status-badge status-high">High</div>
              </div>
            </div>
          </div>
        </div>

        <div id="recommendations-content" class="tab-content">
          <div class="content-panel">
            <div class="panel-header">
              <div>
                <div class="panel-title">Personalized Recommendations</div>
                <div class="panel-subtitle">
                  Based on your interests and behavior
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="userIdInput">User ID</label>
              <input
                type="text"
                id="userIdInput"
                class="form-control"
                placeholder="Enter user ID (e.g., user_001)"
                value="user_001"
              />
            </div>

            <button class="btn" onclick="getRecommendations()">
              Get Recommendations
            </button>

            <div id="recommendationsResult"></div>
          </div>
        </div>

        <div id="feedback-content" class="tab-content">
          <div class="content-panel">
            <div class="panel-header">
              <div>
                <div class="panel-title">Submit Feedback</div>
                <div class="panel-subtitle">
                  Help improve our recommendations
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="feedbackUserId">User ID</label>
              <input
                type="text"
                id="feedbackUserId"
                class="form-control"
                placeholder="user_001"
                value="user_001"
              />
            </div>

            <div class="form-group">
              <label for="feedbackContentId">Content ID</label>
              <input
                type="text"
                id="feedbackContentId"
                class="form-control"
                placeholder="content_001"
                value="content_001"
              />
            </div>

            <div class="form-group">
              <label for="feedbackType">Feedback Type</label>
              <select id="feedbackType" class="form-control">
                <option value="like">Like</option>
                <option value="dislike">Dislike</option>
                <option value="save">Save</option>
                <option value="share">Share</option>
              </select>
            </div>

            <div class="form-group">
              <label for="feedbackRating">Rating (1-5)</label>
              <input
                type="number"
                id="feedbackRating"
                class="form-control"
                min="1"
                max="5"
                value="5"
              />
            </div>

            <button class="btn" onclick="submitFeedback()">
              Submit Feedback
            </button>

            <div id="feedbackResult"></div>
          </div>
        </div>

        <div id="analytics-content" class="tab-content">
          <div class="content-panel">
            <div class="panel-header">
              <div>
                <div class="panel-title">System Analytics</div>
                <div class="panel-subtitle">
                  Performance metrics and insights
                </div>
              </div>
            </div>

            <button class="btn" onclick="getAnalytics()">Load Analytics</button>

            <div id="analyticsResult"></div>
          </div>
        </div>
      </div>

      <!-- Right Sidebar -->
      <div class="right-sidebar">
        <div class="sidebar-section">
          <div class="sidebar-title">
            My Calendar
            <i class="fas fa-plus" style="font-size: 14px; cursor: pointer"></i>
          </div>
          <div class="calendar">
            <div class="calendar-header">September 2025</div>
            <div class="calendar-grid">
              <div class="calendar-day-header">Mo</div>
              <div class="calendar-day-header">Tu</div>
              <div class="calendar-day-header">We</div>
              <div class="calendar-day-header">Th</div>
              <div class="calendar-day-header">Fr</div>
              <div class="calendar-day-header">Sa</div>
              <div class="calendar-day-header">Su</div>
              <div class="calendar-day">1</div>
              <div class="calendar-day">2</div>
              <div class="calendar-day">3</div>
              <div class="calendar-day">4</div>
              <div class="calendar-day">5</div>
              <div class="calendar-day">6</div>
              <div class="calendar-day">7</div>
              <div class="calendar-day">8</div>
              <div class="calendar-day">9</div>
              <div class="calendar-day">10</div>
              <div class="calendar-day">11</div>
              <div class="calendar-day">12</div>
              <div class="calendar-day">13</div>
              <div class="calendar-day">14</div>
              <div class="calendar-day today">15</div>
              <div class="calendar-day">16</div>
              <div class="calendar-day">17</div>
              <div class="calendar-day">18</div>
              <div class="calendar-day">19</div>
              <div class="calendar-day">20</div>
              <div class="calendar-day">21</div>
              <div class="calendar-day">22</div>
              <div class="calendar-day">23</div>
              <div class="calendar-day">24</div>
              <div class="calendar-day">25</div>
              <div class="calendar-day">26</div>
              <div class="calendar-day">27</div>
              <div class="calendar-day">28</div>
              <div class="calendar-day">29</div>
              <div class="calendar-day">30</div>
            </div>
          </div>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-title">
            List of my tasks
            <i class="fas fa-plus" style="font-size: 14px; cursor: pointer"></i>
          </div>
          <ul class="task-list">
            <li class="task-item">
              <div class="task-priority priority-high"></div>
              <div class="task-text">Meeting for case 1</div>
              <div class="task-time">10:00</div>
            </li>
            <li class="task-item">
              <div class="task-priority priority-medium"></div>
              <div class="task-text">Meeting for case 2</div>
              <div class="task-time">11:00 - 12:30</div>
            </li>
            <li class="task-item">
              <div class="task-priority priority-low"></div>
              <div class="task-text">Meeting for case 3</div>
              <div class="task-time">02:00 - 03:00</div>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-title">
            Task assigned to others
            <i class="fas fa-plus" style="font-size: 14px; cursor: pointer"></i>
          </div>
          <ul class="task-list">
            <li class="task-item">
              <div class="task-priority priority-medium"></div>
              <div class="task-text">ML Model Review</div>
              <div class="task-time">Dr.</div>
            </li>
            <li class="task-item">
              <div class="task-priority priority-low"></div>
              <div class="task-text">Data Analysis Report</div>
              <div class="task-time">ML</div>
            </li>
            <li class="task-item">
              <div class="task-priority priority-high"></div>
              <div class="task-text">Algorithm Implementation</div>
              <div class="task-time">En</div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      const API_BASE = 'http://localhost:8002';

      function showTab(tabName) {
        // Remove active from all nav items
        document.querySelectorAll('.nav-item').forEach(item => {
          item.classList.remove('active');
        });
        // Add active to clicked item
        event.target.classList.add('active');
      }

      function switchMainTab(tabName) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });

        // Remove active from all tabs
        document.querySelectorAll('.tab').forEach(tab => {
          tab.classList.remove('active');
        });

        // Show selected tab content
        document.getElementById(tabName + '-content').classList.add('active');

        // Add active to clicked tab
        event.target.classList.add('active');
      }

      async function getRecommendations() {
        const userId = document.getElementById('userIdInput').value;
        const resultDiv = document.getElementById('recommendationsResult');

        resultDiv.innerHTML =
          '<div class="loading">Loading real recommendations...</div>';

        try {
          // Get recommendations with user interests
          const interests = 'machine-learning,healthcare,ai-ethics';
          const response = await fetch(
            `${API_BASE}/recommendations/${userId}?interests=${interests}&limit=5`
          );
          const data = await response.json();

          if (data.recommendations && data.recommendations.length > 0) {
            resultDiv.innerHTML = `
                        <div style="margin-bottom: 20px; padding: 15px; background: rgba(102, 126, 234, 0.1); border-radius: 12px;">
                            <h4 style="color: #667eea; margin-bottom: 10px;">🎯 Personalized for ${data.user_id}</h4>
                            <p style="color: #9ca3af; font-size: 14px;">Based on interests: ${data.user_interests.join(', ')}</p>
                            <p style="color: #9ca3af; font-size: 14px;">Generated: ${new Date(data.generated_at).toLocaleString()}</p>
                        </div>
                        ${data.recommendations
                          .map(
                            rec => `
                            <div class="result-item">
                                <div class="result-title">${rec.content_title}</div>
                                <div class="result-meta">
                                    Source: ${rec.content_source} | 
                                    Quality: ${(rec.content_quality * 100).toFixed(0)}% |
                                    Tags: ${rec.content_tags.slice(0, 3).join(', ')}
                                </div>
                                <div class="result-score">Relevance: ${(rec.relevance_score * 100).toFixed(0)}%</div>
                                <p style="color: #9ca3af; margin-top: 10px; font-style: italic;">💡 ${rec.reasoning}</p>
                            </div>
                        `
                          )
                          .join('')}
                    `;
          } else {
            resultDiv.innerHTML =
              '<div class="error">No recommendations found for this user</div>';
          }
        } catch (error) {
          resultDiv.innerHTML =
            '<div class="error">Error loading recommendations: ' +
            error.message +
            '</div>';
        }
      }

      async function submitFeedback() {
        const feedback = {
          id: 'feedback_' + Date.now(),
          user_id: document.getElementById('feedbackUserId').value,
          content_id: document.getElementById('feedbackContentId').value,
          feedback_type: document.getElementById('feedbackType').value,
          rating: parseInt(document.getElementById('feedbackRating').value),
          comment: '',
          created_at: new Date().toISOString(),
        };

        const resultDiv = document.getElementById('feedbackResult');
        resultDiv.innerHTML =
          '<div class="loading">Submitting feedback...</div>';

        try {
          const response = await fetch(`${API_BASE}/feedback`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(feedback),
          });

          const data = await response.json();
          resultDiv.innerHTML =
            '<div class="success">Feedback submitted successfully!</div>';
        } catch (error) {
          resultDiv.innerHTML =
            '<div class="error">Error submitting feedback: ' +
            error.message +
            '</div>';
        }
      }

      async function getAnalytics() {
        const resultDiv = document.getElementById('analyticsResult');
        resultDiv.innerHTML =
          '<div class="loading">Loading real-time analytics...</div>';

        try {
          const [summaryResponse, performanceResponse] = await Promise.all([
            fetch(`${API_BASE}/analytics/summary`),
            fetch(`${API_BASE}/analytics/performance`),
          ]);

          const summary = await summaryResponse.json();
          const performance = await performanceResponse.json();

          resultDiv.innerHTML = `
                    <div class="result-item">
                        <div class="result-title">📊 Content Analytics</div>
                        <div class="result-meta">Total Content Items: ${summary.total_content_items}</div>
                        <div class="result-meta">Total Recommendations: ${summary.total_recommendations}</div>
                        <div class="result-meta">Active Users: ${summary.active_users} | Feedback Count: ${summary.feedback_count}</div>
                        <div class="result-score">Avg Quality: ${summary.avg_quality_score.toFixed(2)}</div>
                        <p style="color: #9ca3af; margin-top: 10px;">
                            Top Topics: ${summary.top_topics.join(', ')}
                        </p>
                    </div>
                    <div class="result-item">
                        <div class="result-title">⚡ Performance Metrics</div>
                        <div class="result-meta">Response Time: ${performance.response_times.avg}s (P95: ${performance.response_times.p95}s)</div>
                        <div class="result-meta">Throughput: ${performance.throughput.requests_per_second} req/s</div>
                        <div class="result-meta">Recommendations: ${performance.throughput.recommendations_per_hour}/hour</div>
                        <div class="result-score">ML Accuracy: ${(performance.accuracy.content_classification * 100).toFixed(1)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">🔧 System Status</div>
                        <div class="result-meta">Database: ${summary.data_sources.database_connected ? '✅ Connected' : '❌ Disconnected'}</div>
                        <div class="result-meta">ML Pipeline: ${summary.data_sources.ml_enabled ? '✅ Enabled' : '❌ Disabled'}</div>
                        <div class="result-meta">Real-time Updates: ${summary.data_sources.real_time_updates ? '✅ Active' : '❌ Inactive'}</div>
                        <div class="result-score">System Health: ${Object.values(performance.system_resources).every(v => v < 0.8) ? 'Excellent' : 'Good'}</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">📈 Content Categories</div>
                        ${Object.entries(summary.content_categories)
                          .map(
                            ([category, count]) =>
                              `<div class="result-meta">${category}: ${count} items</div>`
                          )
                          .join('')}
                    </div>
                `;
        } catch (error) {
          resultDiv.innerHTML =
            '<div class="error">Error loading analytics: ' +
            error.message +
            '</div>';
        }
      }

      // Check API health on load
      async function checkHealth() {
        try {
          const response = await fetch(`${API_BASE}/health`);
          const health = await response.json();
          console.log('🟢 Real API Health:', health);

          // Update UI to show real data status
          const statusIndicator = document.createElement('div');
          statusIndicator.style.cssText = `
                    position: fixed; top: 20px; right: 20px; z-index: 1000;
                    background: rgba(16, 185, 129, 0.9); color: white;
                    padding: 10px 15px; border-radius: 8px; font-size: 12px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                `;
          statusIndicator.innerHTML = `
                    ✅ Real Data Connected<br>
                    📊 ${health.content_stats.total_items} Content Items<br>
                    🤖 ML: ${health.services.ml_pipeline === 'healthy' ? 'Active' : 'Disabled'}
                `;
          document.body.appendChild(statusIndicator);

          // Auto-remove after 5 seconds
          setTimeout(() => statusIndicator.remove(), 5000);
        } catch (error) {
          console.error('❌ API not available:', error);

          // Show error indicator
          const errorIndicator = document.createElement('div');
          errorIndicator.style.cssText = `
                    position: fixed; top: 20px; right: 20px; z-index: 1000;
                    background: rgba(239, 68, 68, 0.9); color: white;
                    padding: 10px 15px; border-radius: 8px; font-size: 12px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                `;
          errorIndicator.innerHTML = '❌ API Connection Failed';
          document.body.appendChild(errorIndicator);

          setTimeout(() => errorIndicator.remove(), 3000);
        }
      }

      // Initialize
      checkHealth();
    </script>
  </body>
</html>
